<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CoreFit | Home</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Roboto', sans-serif; }
body { background:#f7f7f7; color:#333; display:flex; min-height:100vh; }

#sidebar {
  position:fixed; top:0; left:0; width:260px; height:100%;
  background:#fff; box-shadow:2px 0 15px rgba(0,0,0,0.1); border-radius:0 15px 15px 0; padding:25px 20px; display:flex; flex-direction:column; z-index:1000;
}

.profile-card { background:#fff; padding:20px; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1); text-align:center; margin-bottom:30px; }
.profile-card img { width:100px; height:100px; border-radius:50%; object-fit:cover; margin-bottom:12px; border:3px solid #ffb347; cursor:pointer; }
.profile-card h3 { font-size:20px; font-weight:700; color:#ffb347; margin-bottom:5px; }
.profile-info { font-size:14px; margin-top:10px; line-height:1.6; }
.profile-info p { display:flex; align-items:center; gap:10px; margin:6px 0; font-weight:500; }
.profile-info i { color:#ffb347; min-width:18px; text-align:center; }
.profile-actions { display:flex; flex-direction:column; gap:12px; margin-top:auto; }
.profile-actions button { padding:12px; border:none; border-radius:12px; background:#ffb347; color:#1f1f2e; font-weight:600; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:8px; transition:all 0.3s ease; }
.profile-actions button:hover { background:#ffc76b; transform:translateY(-2px); }

.main-content { margin-left:260px; width:calc(100% - 260px); padding:25px 30px; }

.hero { background:linear-gradient(90deg,#ffb347,#ffcc70); padding:35px 25px; border-radius:20px; text-align:center; color:#1f1f2e; margin-bottom:30px; box-shadow:0 5px 20px rgba(0,0,0,0.1); }
.hero h1 { font-size:28px; font-weight:700; margin-bottom:10px; }
.hero p { font-size:16px; margin-bottom:15px; }
.hero .cta-btns { display:flex; justify-content:center; gap:15px; flex-wrap:wrap; }
.hero .cta-btns button { background:#fff; color:#ffb347; border:none; padding:12px 25px; border-radius:10px; font-weight:600; cursor:pointer; transition:all 0.3s ease; }
.hero .cta-btns button:hover { background:#ffe5b2; transform:translateY(-2px); }

nav { display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:20px; margin-bottom:35px; }
nav a { background:white; color:#29293d; padding:20px; border-radius:15px; text-decoration:none; text-align:center; box-shadow:0 5px 15px rgba(0,0,0,0.08); display:flex; flex-direction:column; align-items:center; transition:all 0.3s ease; }
nav a i { font-size:22px; margin-bottom:10px; color:#ffb347; }
nav a:hover { background:#ffb347; color:#1f1f2e; transform:translateY(-3px); box-shadow:0 10px 20px rgba(0,0,0,0.15); }

.content-section { padding:25px; background:white; border-radius:15px; box-shadow:0 5px 20px rgba(0,0,0,0.08); line-height:1.6; }
.content-section h2 { margin-bottom:15px; color:#29293d; font-weight:700; font-size:22px; }

@media(max-width:900px){ 
  #sidebar{position:relative;width:100%;flex-direction:row;overflow-x:auto;height:auto;padding:15px 10px;} 
  .main-content{margin-left:0;width:100%;} 
  nav{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));} 
}
</style>
</head>
<body>

<!-- Sidebar -->
<div id="sidebar">
  <div class="profile-card">
    <img src="user.jpg" alt="User" id="profile-pic" onclick="document.getElementById('uploadProfilePic').click()">
    <input type="file" id="uploadProfilePic" accept="image/*" style="display:none;" />
    <h3 id="profile-name">Welcome, User</h3>
    <div class="profile-info" id="profile-details">
      <p><i class="fas fa-envelope"></i> Email</p>
      <p><i class="fas fa-birthday-cake"></i> age: --</p>
      <p><i class="fas fa-dumbbell"></i> Goal: --</p>
      <p><i class="fas fa-weight"></i> Weight: --</p>
    </div>
  </div>
  <div class="profile-actions">
    <button onclick="goToPage('dashboard.html')"><i class="fas fa-tachometer-alt"></i> Dashboard</button>
    <button onclick="goToPage('progress.html')"><i class="fas fa-chart-line"></i> Progress</button>
    <button id="signupBtn" onclick="goToPage('signup.html')"><i class="fas fa-user-plus"></i> Sign up</button>
    <button id="loginBtn" onclick="goToPage('login.html')"><i class="fas fa-sign-in-alt"></i> Login</button>
    <button onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
  </div>
</div>

<!-- Main Content -->
<div class="main-content">
  <div class="hero">
    <h1>ðŸ”¥ Welcome to CoreFit!</h1>
    <p>Your personalized fitness platform. Track workouts, calories, and progress.</p>
    <div class="cta-btns">
      <button onclick="goToPage('excercise.html')">Start Workout</button>
      <button onclick="goToPage('calorie.html')">Track Diet</button>
    </div>
  </div>

  <nav>
    <a href="excercise.html"><i class="fas fa-running"></i>Exercise</a>
    <a href="diet.html"><i class="fas fa-carrot"></i>Healthy Recipes</a>
    <a href="yoga.html"><i class="fas fa-spa"></i>Yoga</a>
    <a href="calorie.html"><i class="fas fa-calculator"></i>Calorie Calculator</a>
    <a href="progress.html"><i class="fas fa-chart-pie"></i>Progress</a>
    <a href="live.html"><i class="fas fa-video"></i>Live Class</a>
    <a href="offline.html"><i class="fas fa-chalkboard-teacher"></i>Offline Class</a>
    <a href="testimonials.html"><i class="fas fa-comment-dots"></i>Testimonials</a>
  </nav>

  <div class="content-section">
    <h2>Welcome to CoreFit!</h2>
    <p>This is your personalized fitness platform. Use the tabs above to navigate through your workout, diet, and progress tools.</p>
  </div>
</div>

<!-- Script -->
<script>
window.onload = function(){
  const name = sessionStorage.getItem("name");
  const email = sessionStorage.getItem("email");
  const age = sessionStorage.getItem("age") || "--";
  const goal = sessionStorage.getItem("goal") || "--";
  const weight = sessionStorage.getItem("weight") || "--";

  if(name && email){
    document.getElementById("profile-name").innerText = `Welcome, ${name}`;
    document.getElementById("profile-details").innerHTML = `
      <p><i class="fas fa-envelope"></i> ${email}</p>
      <p><i class="fas fa-birthday-cake"></i> age: ${age}</p>
      <p><i class="fas fa-dumbbell"></i> Goal: ${goal}</p>
      <p><i class="fas fa-weight"></i> Weight: ${weight} kg</p>
    `;
    document.getElementById("loginBtn").style.display = "none";
    document.getElementById("signupBtn").style.display = "none";
  } else {
    document.getElementById("loginBtn").style.display = "inline-flex";
    document.getElementById("signupBtn").style.display = "inline-flex";
  }

  const savedPic = sessionStorage.getItem("profilePic");
  if(savedPic) document.getElementById("profile-pic").src = savedPic;

  document.getElementById("uploadProfilePic")?.addEventListener("change", function(){
    const file = this.files[0];
    if(file){
      const reader = new FileReader();
      reader.onload = function(e){
        document.getElementById("profile-pic").src = e.target.result;
        sessionStorage.setItem("profilePic", e.target.result);
      }
      reader.readAsDataURL(file);
    }
  });
}

function goToPage(page){
  const name = sessionStorage.getItem("name");
  const email = sessionStorage.getItem("email");

  if((page==="dashboard.html" || page==="progress.html") && (!name || !email)){
    alert("Please login first to access this page.");
    window.location.href="login.html";
  }
  else if((page==="login.html" || page==="signup.html") && name && email){
    alert("You are already logged in!");
  }
  else{
    window.location.href=page;
  }
}

function logout(){
  sessionStorage.clear();
  alert("Logged out successfully!");
  window.location.href="login.html";
}
</script>
</body>
</html>
